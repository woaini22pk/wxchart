"use strict";!function(t){function o(t){this.defaultColors=["#D53A35","#2F4554","#6AB0B8","#D48265","#91C7AE","#6E7074","#C4CCD3"],this.options=t}function e(t){t||console.error("chart.js:Assert false:"+t)}o.prototype._initPie=function(){this.angle=0,this.at=0,this.pointerAt=0},o.prototype.drawPie=function(t){var o=this;!function(t,o){for(var e in o)t[e]=o[e]}(this.options,t),this._initPie();var e=this.options;this._beforeDraw(e);var i=0;this.data.forEach(function(t){o.ctx.beginPath(),o.ctx.moveTo(e.x,e.y);var n=o.angle+2*t.rate;o.ctx.arc(e.x,e.y,e.r,o.angle*Math.PI,n*Math.PI),i>o.defaultColors.length-1&&(i=0);var a=null;a=t.color?t.color:o.defaultColors[i++],o.ctx.setFillStyle(a),o.ctx.closePath(),o.ctx.fill(),o.pointerAt=o.at+180*t.rate,o.at+=360*t.rate,o.angle=n,o.ctx.beginPath(),o.ctx.moveTo(o.options.x,o.options.y);var r=o.options.x+(o.options.r+30)*Math.cos(o.pointerAt*Math.PI/180),s=o.options.y+(o.options.r+30)*Math.sin(o.pointerAt*Math.PI/180);o.ctx.lineTo(r,s);var c=null;o.pointerAt<=90||o.pointerAt>=270?(c="left",r+=10):(c="right",r-=10),o.ctx.lineTo(r,s),o.ctx.setStrokeStyle(a),o.ctx.stroke(),o.ctx.setFontSize(t.font?t.font:12),o.ctx.setTextBaseline("middle"),o.ctx.setTextAlign(c),o.ctx.fillText(t.name,r,s)}),this._afterDraw()},o.prototype._beforeDraw=function(t){t.x?t.x:t.x=0,t.y?t.y:t.y=0,e(t.id),e(t.data),this.ctx=wx.createCanvasContext(t.id);var o=t.data,i=o.reduce(function(t,o){return t+=o.value},0),n=o.map(function(t){return t.rate=t.value/i,t});this.data=n},o.prototype._afterDraw=function(){this.ctx.draw()},t.exports=o}(module);